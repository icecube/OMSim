<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="light-mode">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OMSim: &gt; Supernova Studies</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" type="image/svg+xml" href="logo.drawio.svg"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
<script type="text/javascript" src="toggle-alternative-theme.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeTabs.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="custom-alternative.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- https://tholman.com/github-corners/ -->
<a href="https://github.com/icecube/OMSim" class="github-corner" title="View source on GitHub" target="_blank">
    <svg viewBox="0 0 250 250" width="40" height="40" style="position: absolute; top: 0; border: 0; right: 0; z-index: 99;" aria-hidden="true">
    <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logotest.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OMSim
   </div>
   <div id="projectbrief">Geant4 for IceCube optical module studies</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_extra_doc_32__s_n.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">&gt; Supernova Studies </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md46">Input Parameters</a><ul><li class="level2"><a href="#autotoc_md47">General Parameters</a></li>
<li class="level2"><a href="#autotoc_md48">SN Framework Parameters</a></li>
<li class="level2"><a href="#autotoc_md49">Fixed Energy Studies</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md50">Output Files</a><ul><li class="level2"><a href="#autotoc_md51">*_info.dat</a></li>
<li class="level2"><a href="#autotoc_md52">*_data.dat</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md53">Weights</a><ul><li class="level2"><a href="#autotoc_md54">Interaction Probability Weight:</a></li>
<li class="level2"><a href="#autotoc_md55">Flux Weight:</a></li>
<li class="level2"><a href="#autotoc_md56">Effective Weight:</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p>This module provides a comprehensive analysis and simulations focusing on the detection of CCSN neutrinos with segmented sensors.</p>
<p>This simulation is designed to emulate the detection of Core Collapse Supernova (CCSN or simply SN in the following) neutrinos using segmented sensors. It directly generates particles resulting from Inverse Beta Decay (IBD) and Electron Neutrino-Electron Elastic Scattering (ENES).</p>
<ul>
<li>IBD: <code>ν̄_e + p → n + e⁺</code></li>
<li>ENES: <code>ν_e + e⁻ → ν_e + e⁻</code></li>
</ul>
<p>In the IBD case, the outgoing neutron is not simulated; hence, the neutron capture process that might be detected is not included in the simulation. Each event is assigned a weight based on the interaction probability, detailed later on this page. By default, the surrounding ice is represented as a cylinder facing the CCSN, simplifying the weight calculations.</p>
<p>Although CCSN models incorporate neutrino oscillations, the default simulation does not include any oscillation scenario in the weight calculations.</p>
<div style="width: 100%; text-align: center;"> <img src="SNsimDiagram.png" alt="Diagram of CCSN neutrino simulation steps" width="810" height="270" class="inline"/> <div style="width: 80%; margin: auto;"> <br  />
 Figure 1: <em>Diagram of the steps involved to generate the events for the simulation of CCSN neutrinos. The scheme is valid for both IBD and ENES, except for the threshold check. Here, <code>e</code> stands for both electron from ENES or positron from IBD, and <code>ν</code> for both electronic neutrino from ENES or electronic antineutrino from IBD. Image from <a href="https://zenodo.org/record/8107177">this thesis</a>.</em> </div> </div><p>The detailed procedure for this simulation is comprehensively described in <a href="https://zenodo.org/record/8107177">this thesis</a>, specifically in section 6.4. Below is a summary extracted from this source, outlining the steps taken to generate the events:</p>
<ol type="1">
<li>Utilizing the models, the expected flux per area is calculated from the luminosity <code>L(t)</code> and the mean energy <code>&lt;E(t)&gt;</code> according to <code>Φ(t) = (1 / (4πd²)) · (L(t) / &lt;E(t)&gt;)</code>.</li>
<li>The distribution of <code>Φ(t)</code> is used to sample a time <code>t</code> of the burst via the inverse CDF (Cumulative Distribution Function) method. All other sampling from distributions within this simulation also employs the inverse CDF method.</li>
<li>For the sampled time <code>t</code>, the corresponding mean energy and mean squared energy are extracted from the models. These parameters contribute to the construction of the energy spectrum <code>f(E,t)</code>, as elucidated in <a href="https://arxiv.org/pdf/1211.3920.pdf">this paper</a>.</li>
<li>The energy of the neutrino/antineutrino <code>E_ν</code> is sampled from <code>f(E,t)</code>. If the energy falls below the IBD threshold, the algorithm reverts to the second step.</li>
<li>From <code>E_ν</code>, the angular cross section is devised. This informs the sampling of the angle <code>θ</code> between the incoming neutrino and the resulting <code>e⁻/e⁺</code>. The <code>φ</code> direction is randomly generated within the range of <code>0</code> to <code>2π</code>.</li>
<li>The energy of <code>e⁻/e⁺</code> is deduced from <code>θ</code> and <code>E_ν</code>. The interaction probability for such an event is ascertained using the total cross section, facilitating the computation of the interaction weight, as further described below.</li>
<li>The <code>e⁻/e⁺</code> is manifested at a random position within the ice volume.</li>
</ol>
<h1><a class="anchor" id="autotoc_md46"></a>
Input Parameters</h1>
<p>Execute <code>./OMSim_supernova --help</code> to display all possible input parameters.</p>
<p>A typical command to run the simulation is:</p>
<div class="fragment"><div class="line">./OMSim_supernova -n 100 --wheight 20 --wradius 20 --depth_pos 75 --SNgun 0 --SNtype 0</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md47"></a>
General Parameters</h2>
<ul>
<li><code>--depth_pos</code>: Index of the vector determining the depth of the simulated modules. Notable values include the dust layer (65), mean ice properties (approx) 75, and the cleanes ice (88). This selection affects the effective scattering and absorption lengths of the ice at the specified depth.</li>
<li><code>-o</code>: Output file name. By default, two output files are created: one containing the simulated event information, and another with detection data.</li>
</ul>
<h2><a class="anchor" id="autotoc_md48"></a>
SN Framework Parameters</h2>
<ul>
<li><code>--wheight</code>: Height of the ice's simulated world cylinder.</li>
<li><code>--wradius</code>: Radius of the ice's simulated world cylinder.</li>
<li><code>--SNgun</code>: Chooses the interaction type (0 for IBD, 1 for ENES).</li>
<li><code>--SNtype</code>: Selects the CCSN model. Two models are currently available, provided by the Garching group. These models represent the expected fluxes from two CCSNs resulting in neutron stars, with different progenitor masses (27 and 9.6 solar masses). Simulations yielding this data can be found at <a href="https://arxiv.org/abs/1510.04643">https://arxiv.org/abs/1510.04643</a></li>
</ul>
<h2><a class="anchor" id="autotoc_md49"></a>
Fixed Energy Studies</h2>
<p>The user can also manually set the mean energy of generated events by providing specific input parameters. For instance:</p>
<div class="fragment"><div class="line">--SNfixEnergy --SNmeanE 10.0 --SNalpha 3.0</div>
</div><!-- fragment --><ul>
<li><code>--SNfixEnergy</code>: Acts as a flag parameter. When invoked, the simulation disregards the actual mean energy of neutrinos corresponding to the burst time. Instead, it adopts the mean energy and the pinching parameter specified by the subsequent two parameters.</li>
<li><code>--SNmeanE</code>: Specifies the mean energy of the neutrinos.</li>
<li><code>--SNalpha</code>: Defines the pinching parameter of the energy distribution (see <a href="https://arxiv.org/pdf/1211.3920.pdf">this paper</a>).</li>
</ul>
<p>Consequently, the neutrinos' energy is sampled from the distribution, derived from these two parameters and the previously mentioned model.</p>
<h1><a class="anchor" id="autotoc_md50"></a>
Output Files</h1>
<p>Two files are produced:</p>
<h2><a class="anchor" id="autotoc_md51"></a>
*_info.dat</h2>
<p>This file encapsulates data concerning each generated neutrino event. Each entry contains:</p>
<ul>
<li>Time of the neutrino burst.</li>
<li>Corresponding mean energy derived from the model.</li>
<li>Sampled neutrino energy <code>E_ν</code>.</li>
<li><code>cos(θ)</code>, where <code>θ</code> is the angle between the incoming neutrino and the outgoing particle (e- or e+).</li>
<li>Energy of the outgoing particle (e- or e+).</li>
<li>Interaction weight, calculated using the formula:</li>
</ul>
<div class="fragment"><div class="line">W_int(E_ν) = σ(E) · n_target · l,</div>
</div><!-- fragment --><p>where:</p><ul>
<li><code>σ(E)</code> is the total cross section for the interaction,</li>
<li><code>n_target</code> is the number of targets available for the interaction in the ice,</li>
<li><code>l</code> is the length of the simulated cylindrical world.</li>
</ul>
<h2><a class="anchor" id="autotoc_md52"></a>
*_data.dat</h2>
<p>This file contains the detection information. Its structure is designed to facilitate various trigger studies, allowing the examination of different time windows. Users might evaluate its structure for convenience, particularly if the trigger check is integrated within the simulation (requiring a predefined time window).</p>
<p>The default content structure is as follows:</p>
<div class="fragment"><div class="line">Nr of sim. modules &gt; Number of hits per module &gt; for each PMT hit starting with module 0: { PMT number | Hit time | Det. probability }</div>
</div><!-- fragment --><p>Note that the number of columns varies per line, contingent on the number of photons detected for the simulated neutrinos.</p>
<h1><a class="anchor" id="autotoc_md53"></a>
Weights</h1>
<p>The output files contain the interaction weight. However, users should also consider a weight factor depending on the total flux and the number of simulated events. In the most general case of simulating a single depth and then extrapolating the results to the entire detector, another weight factor is needed. This factor accounts for the ice properties of the simulated depth with respect to the whole detector. This last factor decreases in importance when using high multiplicity conditions, since these events generally interact closer to the module, making the photons less sensitive to changes in the optical properties.</p>
<p>These weight factors can be added similarly as explained in <a href="https://zenodo.org/record/8107177">this thesis, section 6.4.2</a>.</p>
<p>The total weight is composed of 3 components: the interaction probability, the SN flux through the simulated volume, and the different optical properties of the modules at different depths:</p>
<div class="fragment"><div class="line">W = W_int(E) · W_flux(d) · W_eff.</div>
</div><!-- fragment --><p>Each component is explained as follows:</p>
<h2><a class="anchor" id="autotoc_md54"></a>
Interaction Probability Weight:</h2>
<div class="fragment"><div class="line">W_int(E_ν) = σ(E) · n_target · l,</div>
</div><!-- fragment --><p> where <code>σ(E_ν)</code> is the total cross section for the interaction, <code>n_target</code> is the number of targets per unit of volume for such interaction, and <code>l=40 m</code> is the length of the generation volume along the neutrino direction axis. This is the length of the cylinder facing the CCSN.</p>
<h2><a class="anchor" id="autotoc_md55"></a>
Flux Weight:</h2>
<div class="fragment"><div class="line">W_flux(d) = (1 / N_gen) · (r² / d²) · ∫ (L(t) / &lt;E(t)&gt;) dt,</div>
</div><!-- fragment --><p> where <code>r</code> is the cylindrical generation volume's radius, <code>d</code> is the distance from Earth where the CCSN is assumed to occur, and <code>N_gen</code> is the number of generated events.</p>
<h2><a class="anchor" id="autotoc_md56"></a>
Effective Weight:</h2>
<div class="fragment"><div class="line">W_eff = N_modules · (&lt;V_eff(m)&gt; / V_eff(m,z_sim)),</div>
</div><!-- fragment --><p> where <code>N_modules</code> is the total modules in the simulated detector, <code>V_eff(m, z_sim)</code> is the effective volume at the simulation depth, and <code>&lt;V_eff(m)&gt;</code> is the mean effective volume for all modules in simulated detector. The term <code>m</code> represents multiplicity, defined as the count of different PMTs within a single module that detected the event within a specific time window.</p>
<p>The effective volume can be calculated in different ways. Old simulations of the <a class="el" href="classm_d_o_m.html">mDOM</a>, described in <a href="https://zenodo.org/record/8107177">this thesis, section 6.3</a>, were used in past studies. A linear regression of the effective volume concerning the absorption length, derived from various depths, provides each depth's effective volume. Although it is advisable to redo these simulations with a current <a class="el" href="classm_d_o_m.html">mDOM</a> model, users can temporarily use the old data with a regression line of <code>V_eff = b · x + c</code>, where <code>x = 1/a</code> is the inverse of the absorption length. The coefficients <code>b</code> and <code>c</code>, depending on the event's multiplicity, were obtained as follows:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Multiplicity   </th><th class="markdownTableHeadNone">b (slope, m²)   </th><th class="markdownTableHeadNone">c (m³)    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">15.1843   </td><td class="markdownTableBodyNone">0.000    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2   </td><td class="markdownTableBodyNone">0.1352   </td><td class="markdownTableBodyNone">47.005    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">3   </td><td class="markdownTableBodyNone">0.0306   </td><td class="markdownTableBodyNone">16.170    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">4   </td><td class="markdownTableBodyNone">0.0095   </td><td class="markdownTableBodyNone">8.680    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">5   </td><td class="markdownTableBodyNone">0.0039   </td><td class="markdownTableBodyNone">5.105    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">&gt;= 6   </td><td class="markdownTableBodyNone">0.0026   </td><td class="markdownTableBodyNone">2.909   </td></tr>
</table>
<p>Note that, for more than 5 PMTs, the same fit line is employed due to insufficient statistics at higher PMTs in the effective volume simulation. Additionally, since the absorption length depends on the wavelength, the fits above were obtained assuming a wavelength of <code>λ = 400 nm</code>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Aug 30 2024 16:23:28 for OMSim by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
